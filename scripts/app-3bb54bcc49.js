function helloController(e,t){e.tags=[],t.get("data/taglist.json").then(function(t){e.tags=t.data}),e.limitExpand=5,e.limit=e.limitExpand;var n=[];t.get("data/news.json").then(function(t){n=t.data,e.selectedNews=performSeach("",n)}),e.$watch("searchText",function(t){e.selectedNews=performSeach(t,n)})}function performSeach(e,t){var n=[];e&&(n=e.split(",").map(function(e){return e.trim().toLowerCase()}));for(var a=0;a<t.length;a++)t[a].relevance=computeRelevance(n,t[a]);var i=t.filter(function(e){return e.relevance>0});return i=i.sort(function(e,t){var n=t.relevance-e.relevance;return 0===n&&(e.date>t.date?n=-1:e.date<t.date&&(n=1)),n})}function computeRelevance(e,t){var n=t.tags||[],a=1;return e&&e.forEach(function(e){var t=0;n.forEach(function(n){n.tag===e&&(t+=n.importance)}),a*=t}),a}function routesConfig(e,t,n){n.html5Mode(!0).hashPrefix("!"),t.otherwise("/"),e.state("app",{url:"/",component:"app"})}routesConfig.$inject=["$stateProvider","$urlRouterProvider","$locationProvider"],helloController.$inject=["$scope","$http"],angular.module("app",["ui.router","ui.bootstrap"]),angular.module("app").directive("newsItem",function(){return{restrict:"E",scope:{itemData:"=data"},templateUrl:"app/newsitem/newsitem.html"}}),angular.module("app").component("app",{templateUrl:"app/hello.html",controller:helloController}),angular.module("app").run(["$templateCache",function(e){e.put("app/hello.html",'<div class="container-fluid">\n    <div class="col-md-3"></div>\n    <div class="col-md-6">\n      <div class="row">\n        <div class="page-header">\n        <h1>Newsletter technique de Quantmetry<br><small>I\'m reading blog posts so you don\'t have to</small></h1>\n        <div class="input-group input-group-lg">\n          <span class="input-group-addon" id="sizing-addon1">Recherche</span>\n          <input type="text" class="form-control" placeholder="comma-separated words" aria-describedby="sizing-addon1" ng-model="searchText" uib-typeahead="tag for tag in tags  | filter:$viewValue | limitTo:10" typeahead-editable="true">\n        </div>\n      </div>\n      </div>\n\n        <div class="row">\n          <div ng-repeat="item in selectedNews | limitTo: limit as results">\n            <news-item data="item"></news-item>\n          </div>\n        </div>\n        <div class="row">\n          <button type="button" class="btn btn-primary btn-block" ng-hide="results.length === selectedNews.length" ng-click="limit = limit + limitExpand">\n                Show {{limitExpand}} More ({{selectedNews.length - results.length}} remaining)\n          </button>\n        </div>\n    </div>\n    <div class="col-md-3"></div>\n</div>\n\n<div class="footer">\n  <p>Copyright (c) 2017</p>\n</div>\n'),e.put("app/newsitem/newsitem.html",'<div class="panel panel-default">\n  <div class="panel-heading">\n    <h3 class="panel-title">{{itemData.title}}</h3>\n    <p> {{itemData.date}}   {{itemData.relevance}} </p>\n  </div>\n  <div class="panel-body">\n    {{itemData.text}}\n  </div>\n</div>\n')}]),angular.module("app").config(routesConfig);
//# sourceMappingURL=../maps/scripts/app-3bb54bcc49.js.map
